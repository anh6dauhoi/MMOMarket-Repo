<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Added viewport -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MMO Market - FAQs</title>
    <!-- Tailwind CDN (ensure only one instance site-wide) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        /* Simple transition for accordion */
        [x-cloak]{display:none!important;}
        .rotate-180{transform:rotate(180deg);}
        .transition-transform{transition:transform .3s ease;}
        /* Optional: constrain container if global container differs */
        .faq-container{max-width:48rem;}
        :root { --primary:#F53E32; }
        .primary-text { color: var(--primary); }
        .primary-bg { background-color: var(--primary); }
        .primary-border { border-color: var(--primary); }
        .primary-focus:focus { outline:2px solid var(--primary); outline-offset:2px; }
    </style>
</head>
<body class="bg-white text-gray-800 font-sans">
<div th:replace="fragments/header :: header"></div>

<div class="mx-auto faq-container p-6 sm:p-8">
    <h1 class="text-3xl sm:text-4xl font-bold text-center mb-10">Frequently Asked Questions</h1>

    <!-- Search Bar (functional) -->
    <div class="relative mb-8">
        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
            <!-- ...existing code (icon)... -->
        </div>
        <input id="faqSearch" type="text" placeholder="Search for answers"
               class="w-full py-3 pl-12 pr-4 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[--primary]/50"
               aria-label="Search FAQs" autocomplete="off">
    </div>

    <!-- FAQ Accordion -->
    <div id="faqContainer" x-data="{ open: 1 }" class="divide-y divide-gray-200 border border-gray-200 rounded-lg">
        <!-- Each accordion button: replace focus:bg-pink-50 -->
        <!-- Q1 -->
        <div class="faq-item" data-text="do i need an account to view products you can view products reviews shop information without logging in purchase leave review need account">
            <button type="button" @click="open = (open === 1 ? null : 1)"
                    class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">1. Do I need an account to view products?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 1 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 1" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                No. You can view all products, reviews, and shop information without logging in. However, to make a purchase or leave a review, you need an account.
            </div>
        </div>
        <!-- Q2 -->
        <div class="faq-item" data-text="how to create a new account register email password username google confirmation">
            <button type="button" @click="open = (open === 2 ? null : 2)"
                    class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">2. How do I create a new account?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 2 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 2" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Click “Register”, enter your email, password, and username, or sign in with Google. A confirmation will be sent to complete registration.
            </div>
        </div>
        <!-- Q3 -->
        <div class="faq-item" data-text="forgot password reset email link">
            <button type="button" @click="open = (open === 3 ? null : 3)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">3. What should I do if I forget my password?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 3 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 3" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Click “Forgot password” on the login page and enter your registered email. We’ll send reset instructions.
            </div>
        </div>
        <!-- Q4 -->
        <div class="faq-item" data-text="change personal information edit profile name address phone password my account">
            <button type="button" @click="open = (open === 4 ? null : 4)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">4. Can I change my personal information?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 4 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 4" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Yes. After logging in, go to “My Account” to edit your name, address, phone number, or password.
            </div>
        </div>
        <!-- Q5 -->
        <div class="faq-item" data-text="purchase history my orders delivery status details">
            <button type="button" @click="open = (open === 5 ? null : 5)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">5. Where can I see my purchase history?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 5 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 5" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                After logging in, open “My Orders” to view all orders, statuses, and details.
            </div>
        </div>
        <!-- Q6 -->
        <div class="faq-item" data-text="top up coins recharge payment gateways bank transfer e-wallet balance">
            <button type="button" @click="open = (open === 6 ? null : 6)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">6. How do I top up Coins?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 6 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 6" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Use supported payment methods (bank transfer, e‑wallet, etc.). After success your Coin balance updates automatically.
            </div>
        </div>
        <!-- Q7 -->
        <div class="faq-item" data-text="contact seller chat product detail shop page message">
            <button type="button" @click="open = (open === 7 ? null : 7)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">7. How do I contact the seller?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 7 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 7" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                On the product detail or shop page click “Chat” to send a direct message.
            </div>
        </div>
        <!-- Q8 -->
        <div class="faq-item" data-text="see other people's reviews visible everyone comments product feedback">
            <button type="button" @click="open = (open === 8 ? null : 8)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">8. Can I see other people's reviews?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 8 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 8" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Yes. All users (even guests) can view all published reviews and comments.
            </div>
        </div>
        <!-- Q9 -->
        <div class="faq-item" data-text="mobile support responsive phones tablets computers anywhere">
            <button type="button" @click="open = (open === 9 ? null : 9)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">9. Does the system support mobile phones?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 9 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 9" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Yes. The site is responsive on phones, tablets, and desktops.
            </div>
        </div>
        <!-- Q10 -->
        <div class="faq-item" data-text="problem with product complaint within 3 days coins held escrow">
            <button type="button" @click="open = (open === 10 ? null : 10)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">10. What if there is a problem with the product?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 10 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 10" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Submit a complaint within 3 days of completion. Coins are held until the issue is resolved.
            </div>
        </div>
        <!-- Q11 -->
        <div class="faq-item" data-text="disputes resolve buyer seller administration arbitrate final decision">
            <button type="button" @click="open = (open === 11 ? null : 11)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">11. Who resolves disputes between buyers and sellers?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 11 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 11" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                First the parties negotiate. If unresolved, MMO Market Administration arbitrates. Its decision is final.
            </div>
        </div>
        <!-- Q12 -->
        <div class="faq-item" data-text="refunds offer issued only verified claims processing procedures">
            <button type="button" @click="open = (open === 12 ? null : 12)" class="w-full flex justify-between items-center px-4 py-4 text-left focus:outline-none focus:bg-[color:var(--primary)]/10">
                <span class="text-lg font-medium">12. Does MMO Market offer refunds?</span>
                <svg class="h-6 w-6 transition-transform" :class="{ 'rotate-180': open === 12 }" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div x-show="open === 12" x-cloak x-transition class="px-4 pb-4 text-gray-600 leading-relaxed">
                Refunds are only issued if a claim is verified per the platform’s procedures.
            </div>
        </div>
    </div>

    <div id="noResults" class="hidden text-center text-gray-500 mt-6">No matching questions found.</div>

    <!-- Contact Prompt -->
    <p class="text-center text-gray-600 mt-10">
        Still have questions?
        <a href="/contact" class="primary-text font-semibold hover:underline">Contact us</a>
    </p>
</div>

<div th:replace="fragments/footer :: footer"></div>

<script>
/* FAQ search filter */
const input = document.getElementById('faqSearch');
const items = Array.from(document.querySelectorAll('#faqContainer .faq-item'));
const noResults = document.getElementById('noResults');
function filterFaq() {
    const q = (input.value || '').trim().toLowerCase();
    let visible = 0;
    items.forEach(it => {
        const hay = it.getAttribute('data-text');
        const show = !q || (hay && hay.includes(q));
        it.style.display = show ? '' : 'none';
        if
