@startuml Seller Registration - Class Diagram
!define ENTITY_COLOR #E8F5E9

skinparam backgroundColor #FAFAFA
skinparam linetype ortho
skinparam nodesep 120
skinparam ranksep 120
skinparam padding 15
skinparam classBackgroundColor ENTITY_COLOR
skinparam classBorderColor #81C784
skinparam arrowThickness 1.5

' Title
title Seller Registration - Class Diagram\nEntity Level - Relationships Focus

' =============== ENTITIES ===============

class User <<Entity>> {
}

class ShopInfo <<Entity>> {
}

class EmailVerification <<Entity>> {
}

' =============== LAYOUT HINTS (Hidden) ===============

User -[hidden]right- ShopInfo
User -[hidden]down- EmailVerification

' =============== MAIN RELATIONSHIPS ===============

User "1" -right-> "0..1" ShopInfo : <<has>>

User "1" ..> "0..*" EmailVerification : <<OTP>>

' =============== LEGEND ===============

legend bottom
  **Relationship Types:**
  | Symbol | Meaning |
  | ━━━━━▶ | Association (solid) |
  | ┄┄┄┄┄▶ | Dependency (dotted) |

  **Seller Registration Flow:**
  1. User sends OTP request
  2. User submits registration (shopName, description, OTP)
  3. Validate OTP & balance (200,000 coins)
  4. Deduct coins & update User.shopStatus = Active
  5. Create/Update ShopInfo
  6. User becomes Seller (can list products)

  **Key Points:**
  - Registration fee: 200,000 coins
  - Queue-based processing (RabbitMQ)
  - Atomic: deduct coins + activate shop
  - User role unchanged (CUSTOMER)
  - shopStatus changed to "Active"
end legend

@enduml

